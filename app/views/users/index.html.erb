<%= render "devise/shared/container" do %>

  <div data-controller="users-filter" class="px-4 sm:px-6 lg:px-8">

    <div class="sm:flex sm:items-center">
      <div class="sm:flex-auto">
				<h1 class="text-2xl font-semibold text-gray-900 dark:text-white">Employees</h1>
				<p class="mt-2 text-sm text-gray-700 dark:text-gray-300">Schedule employees and manage their shifts.</p>
			</div>

			<div class="mt-4 sm:ml-16 sm:mt-0 sm:flex-none">
				<%= link_to new_user_path,
						class: "inline-flex items-center gap-x-1.5 rounded-md bg-blue-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 dark:bg-blue-500 dark:shadow-none dark:hover:bg-blue-400 dark:focus-visible:outline-blue-500" do %>
					<svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="size-5">
						<path d="M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z" />
					</svg>
					New User
				<% end %>
			</div>
    </div>

		<div class="-mx-4 mt-8 sm:-mx-0 space-y-6">

    <!-- Search box -->
		<div class="flex rounded-md bg-white outline outline-1 -outline-offset-1 outline-gray-300 focus-within:outline focus-within:outline-2 focus-within:-outline-offset-2 focus-within:outline-blue-600 dark:bg-white/5 dark:outline dark:outline-1 dark:-outline-offset-1 dark:outline-white/10 dark:focus-within:outline-blue-500">
			<input
				id="search"
				type="text"
				name="search"
				placeholder="Search users..."
				class="block min-w-0 grow px-3 py-1.5 text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-0 sm:text-sm/6 dark:bg-transparent dark:text-white dark:placeholder:text-gray-500"
				data-users-filter-target="input"
				data-action="input->users-filter#filter"
			/>
			<div class="flex py-1.5 pr-1.5">
        <kbd class="inline-flex items-center rounded border border-gray-200 px-1 font-sans text-xs text-gray-400 dark:border-white/10">âŒ˜K</kbd>
      </div>
		</div>


		<table class="min-w-full divide-y divide-gray-300 dark:divide-white/15">
			<thead>
				<tr>
					<th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0 dark:text-white">Name</th>
					<th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell dark:text-white">Email</th>
					<th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 sm:table-cell dark:text-white">Employee ID</th>
					<th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white">Role</th>
					<th scope="col" class="py-3.5 pl-3 pr-4 sm:pr-0">
						<span class="sr-only">Actions</span>
					</th>
				</tr>
			</thead>

			<tbody class="divide-y divide-gray-200 bg-white dark:divide-white/10 dark:bg-gray-900">
				<% @users.each do |user| %>
					<tr class="hover:bg-slate-50" data-users-filter-target="row">
						<td class="w-full max-w-0 py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:w-auto sm:max-w-none sm:pl-0 dark:text-white">
							<%= user.name %>
							<dl class="font-normal lg:hidden">
								<dt class="sr-only">Email</dt>
								<dd class="mt-1 truncate text-gray-700 dark:text-gray-300"><%= user.email %></dd>
								<dt class="sr-only sm:hidden">Employee ID</dt>
								<dd class="mt-1 truncate text-gray-500 sm:hidden dark:text-gray-400"><%= user.employee_id %></dd>
							</dl>
						</td>
						<td class="hidden px-3 py-4 text-sm text-gray-500 lg:table-cell dark:text-gray-400"><%= user.email %></td>
						<td class="hidden px-3 py-4 text-sm text-gray-500 sm:table-cell dark:text-gray-400"><%= user.employee_id %></td>
						<td class="px-3 py-4 text-sm text-gray-500 dark:text-gray-400">
							<% if user.employee? %>
								<span class="uppercase inline-flex items-center rounded-md bg-purple-50 px-2 py-1 text-xs font-medium text-purple-700 ring-1 ring-inset ring-purple-700/10 dark:bg-purple-400/10 dark:text-purple-400 dark:ring-purple-400/30">
									<%= user.role %>
								</span>
							<% else %>
								<span class="uppercase inline-flex items-center rounded-md bg-pink-50 px-2 py-1 text-xs font-medium text-pink-700 ring-1 ring-inset ring-pink-700/10 dark:bg-pink-400/10 dark:text-pink-400 dark:ring-pink-400/20">
									<%= user.role %>
								</span>
							<% end %>
						</td>

						<td class="py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0">
							<span class="isolate inline-flex rounded-md shadow-sm dark:shadow-none">
								<%= link_to "Shifts",
										user_shifts_path(user),
										class: "relative inline-flex items-center rounded-l-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-10 dark:bg-white/10 dark:text-white dark:ring-gray-700 dark:hover:bg-white/20" %>

								<%= link_to "Edit",
										edit_user_path(user),
										class: "relative -ml-px inline-flex items-center bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-10 dark:bg-white/10 dark:text-white dark:ring-gray-700 dark:hover:bg-white/20" %>

								<%= link_to "Delete",
										user_path(user),
										data: { turbo_method: :delete, turbo_confirm: "Are you sure?" },
										class: "relative -ml-px inline-flex items-center rounded-r-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-10 dark:bg-white/10 dark:text-white dark:ring-gray-700 dark:hover:bg-white/20" %>
							</span>
						</td>
					</tr>
				<% end %>
			</tbody>
    </table>
		</div>
  </div>

<% end %>